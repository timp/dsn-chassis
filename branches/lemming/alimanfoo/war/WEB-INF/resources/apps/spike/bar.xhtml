<!--
    Copyright (C) 2010 University of Oxford

    This program is free software; you can redistribute it and/or modify it under the terms of the
    GNU Lesser General Public License as published by the Free Software Foundation; either version
    2.1 of the License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
    without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    See the GNU Lesser General Public License for more details.

    The full text of the license is available at http://www.gnu.org/copyleft/lesser.html
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xforms="http://www.w3.org/2002/xforms"
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
      xmlns:ev="http://www.w3.org/2001/xml-events"
      xmlns:xxforms="http://orbeon.org/oxf/xml/xforms"
      xmlns:fr="http://orbeon.org/oxf/xml/form-runner"
      xmlns:atom="http://www.w3.org/2005/Atom">
      
    <head>
        <title>Spike</title>
        
        <xforms:model id="mod-main">


           	<xforms:instance id="ins-params">
        		<params xmlns="">
        			<q>baz</q>
        			<fooq></fooq>
        		</params>
        	</xforms:instance>
        
        	<xforms:action ev:event="xforms-model-construct-done">
        		<xforms:setvalue ref="instance('ins-params')/fooq" value="xxforms:get-request-parameter('q')"/>
        	</xforms:action>
        
        	<xforms:submission 
        		id="sub-foo"
        		method="get"
        		resource="/spike/foo"
        		replace="all"
        		ref="instance('ins-params')"
        	>
        	
        	</xforms:submission>
			
        </xforms:model>
        
        <style type="text/css">
        </style>

    </head>
    
    <body>

		<p>
			<xforms:trigger>
				<xforms:label>foo</xforms:label>
				<xforms:send ev:event="DOMActivate" submission="sub-foo"/>
			</xforms:trigger>
		</p>    

    </body>
</html>
